# MiniChat - 次に作成するアプリの要件

## 1. 目的

残りのチェック項目をすべて埋めるための「認証付きAIチャットアプリ」を作成する。

---

## 2. 残りのチェック項目（23個）

### C. Web基礎（4個）
- [ ] Cookieとは何かを説明できる
- [ ] Sessionとは何かを説明できる
- [ ] なぜCookie/Sessionが必要かを説明できる
- [ ] ログイン状態がどのように維持されるかを説明できる

### G. 認証（1個）
- [ ] 認証と認可の違いを説明できる

### P. コスト管理（1個）
- [ ] トークン数とコストの関係を理解している

### Q. LLM基礎（5個）
- [ ] LLM APIの基本的な仕組みを説明できる
- [ ] messages配列の構造を説明できる
- [ ] コンテキストウィンドウとは何かを説明できる
- [ ] コンテキストウィンドウを超えるとどうなるかを説明できる
- [ ] temperatureパラメータの役割を説明できる

### Q. LLM基礎 - 経験（5個）
- [ ] APIキーを取得できる
- [ ] APIドキュメントを読んでAPIを呼び出せる
- [ ] LLM APIを呼び出してテキスト生成できる
- [ ] max_tokensを設定できる
- [ ] temperatureを調整して出力の違いを確認できる

### R. プロンプト（2個）
- [ ] System Promptの役割を説明できる
- [ ] User MessageとAssistant Messageの違いを説明できる

### R. プロンプト - 経験（2個）
- [ ] System Promptを設定してAIの振る舞いを変えられる
- [ ] 明確な指示を書くことで出力の質を向上させられる

### S. LLM実装（5個）
- [ ] フロントエンドからLLM APIを呼び出すアプリを作成できる
- [ ] ユーザー入力を受け取り、LLMのレスポンスを表示できる
- [ ] テキスト入力欄と送信ボタンを実装できる
- [ ] メッセージ一覧を表示できる
- [ ] ローディング状態を表示できる

---

## 3. アプリ概要

### 名前
**MiniChat** - 認証付きAIチャットアプリ

### コンセプト
ログインしたユーザーだけがAIとチャットできるシンプルなアプリ。

### 画面構成

```
┌─────────────────────────────────────────────┐
│  [未ログイン時]                              │
│                                             │
│         ┌───────────────────┐               │
│         │  MiniChat         │               │
│         │                   │               │
│         │  [Email入力欄]    │               │
│         │  [Password入力欄] │               │
│         │                   │               │
│         │  [ログイン]       │               │
│         │  [新規登録]       │               │
│         └───────────────────┘               │
│                                             │
└─────────────────────────────────────────────┘

┌─────────────────────────────────────────────┐
│  [ログイン後]                               │
│  MiniChat                        [Logout]   │
├─────────────────────────────────────────────┤
│  ┌─────────────────────────────────────┐    │
│  │ 🤖 こんにちは！何でも聞いてね      │    │
│  └─────────────────────────────────────┘    │
│  ┌─────────────────────────────────────┐    │
│  │ 👤 東京の天気を教えて              │    │
│  └─────────────────────────────────────┘    │
│  ┌─────────────────────────────────────┐    │
│  │ 🤖 東京の天気は晴れです...         │    │
│  └─────────────────────────────────────┘    │
├─────────────────────────────────────────────┤
│  [メッセージを入力...]            [送信]    │
└─────────────────────────────────────────────┘
```

---

## 4. 技術スタック

| 技術 | 用途 |
|:--|:--|
| **Next.js 15+** (App Router) | フレームワーク |
| **React 19** | UI |
| **TypeScript** | 型安全 |
| **Tailwind CSS** | スタイリング |
| **Supabase Auth** | 認証（ログイン/サインアップ） |
| **OpenAI API** または **Google AI API** | チャット機能 |

---

## 5. 機能要件

### 5.1 認証機能
- [ ] メールアドレス＋パスワードでサインアップ
- [ ] ログイン/ログアウト
- [ ] ログイン状態の維持（Cookie/Session）
- [ ] 未ログイン時はチャット画面にアクセス不可

### 5.2 チャット機能
- [ ] テキスト入力欄と送信ボタン
- [ ] メッセージ送信 → AIからの返答表示
- [ ] メッセージ履歴の表示（User/Assistant交互）
- [ ] 送信中のローディング表示
- [ ] System Promptの設定（AIの性格を定義）

### 5.3 LLMパラメータ
- [ ] temperature の設定（0.0〜1.0）
- [ ] max_tokens の設定

---

## 6. 学習ポイント

### 認証で学ぶこと
1. **Cookie** - ブラウザに保存される小さなデータ。セッションIDを保持。
2. **Session** - サーバー側でユーザーを識別する仕組み。
3. **認証 vs 認可** - 「誰か」を確認するのが認証、「何ができるか」を決めるのが認可。

### LLMで学ぶこと
1. **messages配列** - `[{role: "system", content: "..."}, {role: "user", content: "..."}]`
2. **temperature** - 0に近いほど確定的、1に近いほどランダム。
3. **max_tokens** - 出力の最大長を制限。
4. **コンテキストウィンドウ** - 一度に処理できるトークン数の上限。

---

## 7. プロジェクト作成場所

```
/Users/t/Projects/test_2/
```

---

## 8. 開始手順

```bash
# 1. フォルダを作成して移動
mkdir -p /Users/t/Projects/test_2
cd /Users/t/Projects/test_2

# 2. VS Codeで開く
code .

# 3. 新しいウィンドウで「MiniChatを作成して」と依頼
```

---

## 9. 想定所要時間

| フェーズ | 時間 |
|:--|:--|
| プロジェクトセットアップ | 15分 |
| 認証機能の実装 | 1〜2時間 |
| チャットUI実装 | 1時間 |
| LLM API統合 | 1〜2時間 |
| テスト＆デプロイ | 30分 |
| **合計** | **約4〜6時間** |
